<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="https://files.catbox.moe/ows0sx.jpg" type="image/x-icon">
  <title>üíñ Hoa Y√™u - T√¨nh Y√™u C·ªßa Anh üíñ</title>
  <style>
    /* ======= Base & Colors (gi·ªØ vibe h·ªìng t√≠m cypherpunk, n·ªÅn s√°ng h∆°n ch√∫t) ======= */
    :root{
      --pink-1:#ff007f;
      --pink-2:#ff00ff;
      --accent:#ff2e7e;
      --bg-1:#120017; /* slightly brighter than original */
      --glass: rgba(255,255,255,0.06);
      --neon: 0 8px 40px rgba(255,0,127,0.18);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      font-family: "Poppins", Inter, system-ui, Arial, sans-serif;
      /* brighten background: keep vibe but more luminous */
      background:
        radial-gradient(circle at 18% 12%, rgba(255,77,166,0.10), transparent 12%),
        radial-gradient(circle at 82% 82%, rgba(170,0,255,0.08), transparent 14%),
        linear-gradient(180deg,#180021 0%, #060006 100%);
      color:#fff;
      overflow-x:hidden;
      position:relative;
    }

    /* ======= Twinkling stars (depth layer) ======= */
    .star-layer{
      position:fixed; inset:0; z-index:-3; pointer-events:none; overflow:hidden;
    }
    .star{
      position:absolute; width:2px; height:2px; border-radius:50%;
      background:rgba(255,255,255,0.85);
      box-shadow: 0 0 6px rgba(255,255,255,0.6);
      opacity:0.0;
      animation: twinkle 4s infinite ease-in-out;
    }
    @keyframes twinkle {
      0% { opacity:0; transform: scale(0.6); }
      50% { opacity:0.95; transform: scale(1.2); }
      100% { opacity:0; transform: scale(0.7); }
    }

    /* ======= Cypherpunk heart background (polygon hearts, many) ======= */
    .heart-bg{
      position:fixed;
      inset:0;
      z-index:-2;
      pointer-events:none;
      overflow:hidden;
      background: radial-gradient(circle at center, rgba(255,0,127,0.08), rgba(0,0,0,0.20));
    }
    .heart{
      position:absolute;
      width:48px; height:48px;
      background: linear-gradient(135deg, var(--pink-1), var(--pink-2));
      box-shadow: 0 0 14px rgba(255,0,127,0.7), 0 0 30px rgba(255,0,255,0.4);
      clip-path: polygon(50% 0%, 85% 25%, 100% 62%, 70% 100%, 50% 83%, 30% 100%, 0% 62%, 15% 25%);
      transform-origin:center;
      opacity:0.85;
      animation: floatUp linear infinite;
    }
    @keyframes floatUp{
      0%   { transform: translateY(0) rotate(0deg) scale(0.9); opacity:0; }
      10%  { opacity:0.9; }
      50%  { transform: translateY(-25vh) rotate(12deg) scale(1.05); opacity:1; }
      100% { transform: translateY(-110vh) rotate(30deg) scale(0.8); opacity:0; }
    }

    /* ======= Container ======= */
    .wrap{
      max-width:1100px;
      margin:18px auto;
      padding:18px;
    }
    header{
      display:flex;
      gap:18px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
    }
    h1{
      margin:0;
      font-size:1.6rem;
      letter-spacing:0.6px;
      text-shadow:0 0 18px rgba(255,0,127,0.45);
      display:flex;
      gap:10px;
      align-items:center;
    }
    .subline{
      color: #f7d9e9;
      opacity:0.95;
      font-size:0.9rem;
    }

    /* ======= Heart circle + Days counter ======= */
    .heart-circle{
      width:190px;
      height:190px;
      border-radius:50%;
      margin:18px auto 10px;
      display:flex;
      align-items:center;
      justify-content:center;
      background: radial-gradient(circle at 30% 30%, rgba(255,182,193,0.16), rgba(255,105,180,0.08));
      box-shadow: inset 0 0 22px rgba(255,105,180,0.12), 0 8px 48px rgba(255,0,255,0.18);
      border: 1px solid rgba(255,0,127,0.12);
      position: relative;
      overflow:visible;
      transition: box-shadow 200ms ease, transform 200ms ease;
    }
    .heart-circle .days{
      font-size:1.3rem;
      font-weight:700;
      color:#fff;
      text-shadow: 0 0 10px rgba(255,255,255,0.08);
      z-index:2;
    }

    /* animated ring around circle */
    .glow-ring{
      position:absolute;
      inset: -6px;
      border-radius:50%;
      pointer-events:none;
      background: conic-gradient(from 0deg, rgba(255,0,127,0.12), rgba(255,0,255,0.18), rgba(255,46,126,0.12));
      filter: blur(10px);
      opacity:0.85;
      animation: ringRotate 6s linear infinite;
      mix-blend-mode: screen;
      z-index:0;
    }
    @keyframes ringRotate { to { transform: rotate(360deg); } }

    /* ===== NEW: Top stats bar (ƒë∆∞a l√™n g·∫ßn v√≤ng tr√≤n) ===== */
    .love-stats-top{
      width:100%;
      display:flex;
      justify-content:center;
      gap:10px;
      flex-wrap:wrap;
      margin:8px auto 6px;
    }
    .love-stats-top .stat{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      padding:6px 10px;
      border-radius:10px;
      min-width:88px;
      text-align:center;
      border:1px solid rgba(255,0,127,0.08);
      box-shadow:0 8px 24px rgba(0,0,0,0.25);
      position:relative;
      overflow:hidden;
    }
    .love-stats-top .stat span{
      display:block;
      font-weight:800;
      font-size:1rem;
      text-shadow: 0 2px 6px rgba(255,0,127,0.08);
      transition: transform .28s cubic-bezier(.2,.9,.2,1);
    }
    .love-stats-top .stat small{
      display:block;
      opacity:0.9;
      font-size:0.8rem;
      color:#ffd6ec;
    }

    /* flip animation when number changes (simple scale flash) */
    .flash {
      transform: scale(1.18);
      color: #ffffff;
    }

    /* ======= Aura hearts (small particle hearts around circle) ======= */
    #auraContainer { position:absolute; inset:0; pointer-events:none; z-index:1; }
    .aura-heart {
      position:absolute;
      width:12px; height:12px;
      background: linear-gradient(135deg, var(--pink-1), var(--pink-2));
      box-shadow: 0 6px 14px rgba(255,0,127,0.25);
      clip-path: polygon(50% 0%, 85% 25%, 100% 62%, 70% 100%, 50% 83%, 30% 100%, 0% 62%, 15% 25%);
      transform-origin:center;
      opacity:1;
      pointer-events:none;
      animation-name: auraFloat;
      animation-timing-function: cubic-bezier(.2,.9,.2,1);
      animation-fill-mode: forwards;
    }
    @keyframes auraFloat {
      from { transform: translate(0,0) scale(1); opacity: 0.95; }
      to   { transform: translate(var(--dx,0px), var(--dy,-120px)) scale(0.45); opacity: 0; }
    }

    /* ======= Horizontal slider (placed under circle) ======= */
    .horizontal-love {
      width:100%;
      display:flex;
      justify-content:center;
      margin-top:8px;
      margin-bottom:10px;
    }
    .horizontal-love .slider-wrap {
      width:320px; /* a bit wider so particles have room */
      display:flex;
      align-items:center;
      gap:12px;
      flex-direction:column;
    }

    /* range track ‚Äî th√™m hi·ªáu ·ª©ng ‚Äúch·∫°y‚Äù ƒë·ªÉ sinh ƒë·ªông */
    .horizontal-love input[type=range]{
      width:100%;
      -webkit-appearance:none;
      appearance:none;
      height:12px;
      background: linear-gradient(90deg, var(--pink-1), var(--pink-2), var(--accent));
      border-radius:999px;
      outline:none;
      background-size: 200% 100%;
      animation: trackFlow 3.2s linear infinite;
      box-shadow: 0 6px 18px rgba(255,0,127,0.18), inset 0 0 8px rgba(255,255,255,0.06);
      position:relative;
    }
    @keyframes trackFlow {
      0% { background-position: 0% 50%; }
      100% { background-position: 200% 50%; }
    }
    .horizontal-love input[type=range]::-webkit-slider-thumb{
      -webkit-appearance:none;
      appearance:none;
      width:34px;height:34px;border-radius:50%;
      background: #fff;
      border:3px solid var(--pink-1);
      box-shadow: 0 8px 20px rgba(0,0,0,0.6), 0 0 0 0 rgba(255,0,127,0.4);
      cursor:grab;
      transition: box-shadow 180ms ease, transform 180ms ease;
    }
    .horizontal-love input[type=range]:active::-webkit-slider-thumb{
      transform: scale(1.08);
      box-shadow: 0 12px 24px rgba(0,0,0,0.7), 0 0 0 10px rgba(255,0,127,0.12);
    }
    .horizontal-love .mood{
      font-size:44px;
      margin-top:6px;
      font-family: "Apple Color Emoji", "Segoe UI Emoji", sans-serif;
      text-shadow: 0 6px 18px rgba(255,0,127,0.12);
      transition: transform 210ms ease, filter 210ms ease;
    }

    /* thumb pulse effect container */
    .thumb-pulse {
      position: absolute;
      width: 10px; height: 10px;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(255,255,255,0.9), rgba(255,0,127,0.7));
      filter: blur(6px);
      pointer-events:none;
      transform-origin:center;
      z-index: 9999;
      animation: pulse 600ms ease-out forwards;
    }
    @keyframes pulse {
      from { transform: scale(.6); opacity: .9; }
      to { transform: scale(3.8); opacity: 0; }
    }

    /* ======= Love Progress (kept) ======= */
    .love-progress{
      width:80%;
      max-width:600px;
      height:14px;
      background:var(--glass);
      border-radius:999px;
      margin:10px auto 22px;
      overflow:hidden;
      box-shadow:0 0 18px rgba(255,0,127,0.06);
    }
    .love-progress-fill{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, var(--pink-1), var(--pink-2), var(--accent));
      transition:width 800ms cubic-bezier(.2,.9,.2,1);
    }

    /* ======= Main content grid ======= */
    .grid{
      display:grid;
      grid-template-columns: 1fr 380px;
      gap:22px;
      align-items:start;
      margin-top:6px;
    }
    @media (max-width:900px){
      .grid{ grid-template-columns:1fr; }
    }

    /* ======= Slideshow (left column) with corner hearts ======= */
    .slideshow-card{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      padding:12px;
      border-radius:14px;
      box-shadow:0 10px 30px rgba(0,0,0,0.6);
      border:1px solid rgba(255,0,127,0.04);
      position:relative;
    }
    .slideshow-frame{
      width:100%;
      height:460px;
      border-radius:12px;
      overflow:hidden;
      position:relative;
      background:linear-gradient(180deg, rgba(0,0,0,0.18), rgba(0,0,0,0.36));
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .slide{
      position:absolute;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      opacity:0;
      transform: scale(1.02);
      transition: opacity 700ms ease, transform 700ms ease;
    }
    .slide.active{
      opacity:1;
      transform: scale(1);
      z-index:2;
    }
    .slide img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      user-select:none;
      -webkit-user-drag:none;
      background: linear-gradient(180deg, rgba(0,0,0,0.05), rgba(0,0,0,0.12));
      transition: transform 10s ease;
    }
    /* Ken Burns effect on active image */
    .slide.active img{ transform: scale(1.03); }

    /* corner decorative hearts (fixed) */
    .corner-heart{
      position:absolute;
      font-size:22px;
      color: rgba(255,102,204,0.95);
      z-index:6;
      text-shadow: 0 6px 14px rgba(255,0,127,0.08);
    }
    .corner-heart.tl{ top:12px; left:16px; transform:rotate(-10deg); }
    .corner-heart.tr{ top:12px; right:16px; transform:rotate(10deg); }
    .corner-heart.bl{ bottom:12px; left:16px; transform:rotate(6deg); }
    .corner-heart.br{ bottom:12px; right:16px; transform:rotate(-6deg); }

    /* compact nav buttons (small, round) */
    .nav-btn{
      position:absolute;
      top:50%;
      transform:translateY(-50%);
      width:40px;height:40px;border-radius:50%;
      display:flex;align-items:center;justify-content:center;
      background: rgba(0,0,0,0.45);
      color:#fff;
      border:1px solid rgba(255,0,127,0.12);
      cursor:pointer;
      transition: transform 160ms, background 160ms;
      backdrop-filter: blur(4px);
      z-index:5;
    }
    .nav-btn:hover{ transform:translateY(-50%) scale(1.06); background: rgba(255,0,127,0.85); }
    .nav-prev{ left:10px; }
    .nav-next{ right:10px; }

    /* pagination dots */
    .dots{
      position:absolute;
      bottom:12px;
      left:50%;
      transform:translateX(-50%);
      display:flex;
      gap:8px;
      z-index:6;
    }
    .dot{
      width:9px;height:9px;border-radius:999px;background:rgba(255,255,255,0.18);
      border:1px solid rgba(255,0,127,0.08);
      cursor:pointer;
      transition: transform 130ms, background 130ms;
    }
    .dot.active{ background: linear-gradient(90deg, var(--pink-1), var(--pink-2)); transform:scale(1.25); }

    /* autoplay overlay controls - kept for layout but pause button removed */
    .slideshow-top-right{
      position:absolute;
      top:10px;
      right:10px;
      display:flex;
      gap:8px;
      z-index:6;
      align-items:center;
    }
    .small-toggle{
      background:rgba(0,0,0,0.45);
      border-radius:8px;
      padding:6px 8px;
      font-size:0.85rem;
      cursor:pointer;
      border:1px solid rgba(255,0,127,0.06);
    }
    .small-toggle:hover{ background: rgba(255,0,127,0.85); }

    /* ======= Right column ======= */
    .right-panel{
      background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01));
      padding:12px;
      border-radius:12px;
      border:1px solid rgba(255,0,127,0.035);
      display:flex;
      flex-direction:column;
      gap:14px;
      align-items:center;
    }
    .mood{
      margin-top:10px;
      font-size:40px;
      transition: transform 240ms ease, filter 240ms ease;
      font-family: "Apple Color Emoji", "Segoe UI Emoji", sans-serif;
    }

    /* music toggle */
    .music-toggle{
      display:flex; gap:8px; align-items:center;
      padding:6px 10px;
      border-radius:999px;
      cursor:pointer;
      background:rgba(0,0,0,0.45);
      border:1px solid rgba(255,0,127,0.06);
    }

    /* ====== LOVE QUESTION ====== */
    .love-q{
      margin:14px auto 28px;
      width:100%;
      max-width:760px;
      display:flex;
      justify-content:center;
      gap:18px;
      align-items:center;
      pointer-events:auto;
      perspective: 900px; /* 3D hover */
    }
    .love-q .card{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid rgba(255,0,127,0.06);
      padding:12px 16px;
      border-radius:12px;
      display:flex;
      gap:12px;
      align-items:center;
      box-shadow: 0 8px 28px rgba(0,0,0,0.35);
      transform-style: preserve-3d;
      transition: transform 240ms ease;
      position:relative;
      overflow:visible;
    }
    .love-q .card:hover{
      transform: rotateX(6deg) rotateY(-6deg);
    }
    .love-q .question {
      font-weight:800;
      color: #ffd6ec;
      text-shadow: 0 0 10px rgba(255,0,127,0.26), 0 0 30px rgba(255,0,255,0.12);
      letter-spacing:.3px;
    }
    .love-q .actions { display:flex; gap:10px; position:relative; }
    .love-btn{
      padding:10px 14px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.06);
      cursor:pointer;
      font-weight:700;
      background: linear-gradient(90deg,var(--pink-1),var(--pink-2));
      color:#fff;
      box-shadow: 0 8px 20px rgba(255,0,127,0.12);
      transition: transform 200ms ease, box-shadow 200ms ease, filter 200ms ease;
      position:relative;
      z-index:3;
      user-select:none;
    }
    .love-btn:hover{ transform: translateY(-4px) scale(1.03); box-shadow: 0 12px 30px rgba(255,0,127,0.18); filter: brightness(1.05); }
    .love-btn.no{ background: linear-gradient(90deg,#6b6b6b,#4a4a4a); }
    .love-btn.no.shake{ animation: shake 480ms; }
    @keyframes shake { 0%{transform:translateX(0);}20%{transform:translateX(-6px);}40%{transform:translateX(6px);}60%{transform:translateX(-4px);}80%{transform:translateX(4px);}100%{transform:translateX(0);} }

    /* burst hearts used for "C√≥" action */
    .burst {
      position:absolute;
      pointer-events:none;
      font-size:18px;
      transform-origin:center;
      animation: burstUp 1200ms ease-out forwards;
      text-shadow:0 6px 18px rgba(255,0,127,0.12);
      z-index:10000;
      user-select:none;
    }
    @keyframes burstUp {
      0% { opacity:1; transform: translateY(0) scale(1); }
      60% { opacity:1; transform: translateY(-60px) scale(1.2); }
      100%{ opacity:0; transform: translateY(-140px) scale(0.8); }
    }

    /* broken heart for "Kh√¥ng" action */
    .broken {
      position:absolute;
      pointer-events:none;
      font-size:36px;
      color:#ff4d60;
      transform-origin:center;
      animation: brokenPop 900ms ease-out forwards;
      filter: drop-shadow(0 8px 18px rgba(0,0,0,0.35));
      z-index:10000;
    }
    @keyframes brokenPop {
      0% { opacity:1; transform: scale(0.8) translateY(0) rotate(0deg); }
      50% { transform: scale(1.2) translateY(-10px) rotate(-8deg); opacity:1; }
      100%{ transform: scale(0.6) translateY(-80px) rotate(-28deg); opacity:0; }
    }

    /* full-screen confetti/hearts overlay */
    .big-overlay{
      position:fixed; inset:0; z-index:9998; pointer-events:none; overflow:hidden;
    }
    .falling {
      position:absolute; font-size:18px; pointer-events:none; animation: fall 2600ms linear forwards;
      transform-origin:center;
      text-shadow:0 6px 12px rgba(0,0,0,0.35);
    }
    @keyframes fall {
      0% { transform: translateY(-10vh) rotate(0deg); opacity:1; }
      100% { transform: translateY(110vh) rotate(720deg); opacity:0; }
    }

    /* screen shake for "Kh√¥ng" */
    .screen-shake { animation: shakeScreen .52s ease-in-out; }
    @keyframes shakeScreen {
      0%{ transform:translateX(0); }
      25%{ transform:translateX(-8px); }
      50%{ transform:translateX(8px); }
      75%{ transform:translateX(-6px); }
      100%{ transform:translateX(0); }
    }

    /* heart rain specific: big full-screen hearts */
    .heart-rain-item {
      position: fixed;
      pointer-events: none;
      z-index: 9999;
      will-change: transform, opacity;
      transform-origin: center;
      text-shadow: 0 6px 12px rgba(0,0,0,0.3);
      user-select:none;
    }

    /* footer small */
    footer{ margin-top:18px; text-align:center; color:rgba(255,255,255,0.55); font-size:0.85rem; opacity:0.95; }

    /* typewriter message moved near the circle (we'll position with JS) */
    .typewriter {
      margin-top:6px;
      text-align:center;
      font-size:0.95rem;
      color:rgba(255,210,235,0.95);
      min-height:22px;
      pointer-events:none;
    }
    .typewriter .cursor { display:inline-block; width:8px; background: linear-gradient(90deg,#fff,#ffb0e0); margin-left:6px; animation: blink 800ms steps(2) infinite; height:18px; vertical-align:middle; border-radius:2px;}
    @keyframes blink { 0%{opacity:1}50%{opacity:0}100%{opacity:1} }

    /* small screens adjust */
    @media (max-width:900px){
      .slideshow-frame{ height:360px; }
      .love-q{ flex-direction:column; gap:10px; }
      .horizontal-love .slider-wrap { width:260px; }
    }

  </style>
</head>
<body>
  <!-- STARS LAYER -->
  <div class="star-layer" id="starLayer"></div>

  <!-- BACKGROUND HEARTS -->
  <div class="heart-bg" id="heartBg"></div>

  <div class="wrap" id="pageWrap">
    <header>
      <div>
        <h1>üíñ Hoa Y√™u <span style="font-size:.9rem; margin-left:8px" class="subline">‚Äî T√¨nh y√™u c·ªßa anh </span></h1>
        <div class="subline" style="margin-top:6px">Anh l√†m c√°i n√†y ƒë·ªÉ k·ªâ ni·ªám v√† th·ªÉ hi·ªán t√¨nh y√™u c·ªßa m√¨nh th√¥i -- anh t√¢m huy·∫øt l·∫Øm ƒë√≥ nha mong em th√≠ch n√≥.</div>
      </div>

      <div style="display:flex; gap:10px; align-items:center; flex-wrap:wrap">
        <div class="music-toggle" id="musicToggle">
          <span id="musicIcon">üîä</span>
          <small style="opacity:.9">Nh·∫°c n·ªÅn</small>
        </div>
        <div style="text-align:right">
          <small style="display:block; color:rgba(255,255,255,0.6)">Cre NgocDoiAn ‚ú®</small>
        </div>
      </div>
    </header>

    <!-- Heart circle + days -->
    <div style="display:flex; gap:8px; align-items:center; justify-content:center; flex-direction:column;">
      <div class="heart-circle" aria-hidden="true" id="heartCircle">
        <div class="glow-ring" aria-hidden="true"></div>
        <div id="auraContainer" aria-hidden="true"></div>
        <div class="days" id="loveDays">0 ng√†y</div>
      </div>

      <!-- typewriter moved visually under the circle -->
      <div class="typewriter" id="typeWriter" aria-hidden="false"></div>
    </div>

    <!-- NEW: Top stats moved near circle -->
    <div class="love-stats-top" id="loveStatsTop" aria-hidden="false">
      <div class="stat"><span id="cYears">0</span><small>NƒÉm</small></div>
      <div class="stat"><span id="cMonths">0</span><small>Th√°ng</small></div>
      <div class="stat"><span id="cWeeks">0</span><small>Tu·∫ßn</small></div>
      <div class="stat"><span id="cDays">0</span><small>Ng√†y</small></div>
      <div class="stat"><span id="cHours">0</span><small>Gi·ªù</small></div>
      <div class="stat"><span id="cMinutes">0</span><small>Ph√∫t</small></div>
      <div class="stat"><span id="cSeconds">0</span><small>Gi√¢y</small></div>
    </div>

    <!-- HORIZONTAL SLIDER (right under circle) -->
    <div class="horizontal-love" aria-hidden="false">
      <div class="slider-wrap">
        <input id="loveSlider" type="range" min="0" max="100" value="50" />
        <div class="mood" id="moodIcon" aria-live="polite" role="img">üòê</div>
      </div>
    </div>

    <!-- Love progress (kept) -->
    <div class="love-progress" aria-hidden="true">
      <div class="love-progress-fill" id="loveProgressFill"></div>
    </div>

    <!-- Main Grid -->
    <div class="grid">
      <!-- Left: slideshow -->
      <div class="slideshow-card">
        <div class="slideshow-frame" id="slideshow">
          <!-- Slides (images) - captions removed as requested -->
          <div class="slide active">
            <img src="https://files.catbox.moe/95q5xp.jpg" alt="1">
          </div>
          <div class="slide"><img src="https://files.catbox.moe/thloyl.jpg" alt="2"></div>
          <div class="slide"><img src="https://files.catbox.moe/gb2ds2.jpg" alt="3"></div>
          <div class="slide"><img src="https://files.catbox.moe/64l6nv.jpg" alt="4"></div>
          <div class="slide"><img src="https://files.catbox.moe/lxmk1o.jpg" alt="5"></div>
          <div class="slide"><img src="https://files.catbox.moe/89jm6k.jpg" alt="6"></div>
          <div class="slide"><img src="https://files.catbox.moe/gp2dnd.jpg" alt="7"></div>
          <div class="slide"><img src="https://files.catbox.moe/fpre5p.jpg" alt="8"></div>
          <div class="slide"><img src="https://files.catbox.moe/yrzrve.jpg" alt="9"></div>
          <div class="slide"><img src="https://files.catbox.moe/ah2hxx.jpg" alt="10"></div>
          <div class="slide"><img src="https://files.catbox.moe/cyk4cb.jpg" alt="11"></div>
          <div class="slide"><img src="https://files.catbox.moe/p88yak.jpg" alt="12"></div>

          <!-- decorative corner hearts -->
          <span class="corner-heart tl">üíñ</span>
          <span class="corner-heart tr">üíò</span>
          <span class="corner-heart bl">üíï</span>
          <span class="corner-heart br">üíì</span>

          <!-- nav compact -->
          <div class="nav-btn nav-prev" id="prevBtn" title="Previous">‚Äπ</div>
          <div class="nav-btn nav-next" id="nextBtn" title="Next">‚Ä∫</div>

          <div class="slideshow-top-right"></div>

          <!-- dots -->
          <div class="dots" id="dotsWrap" aria-hidden="true"></div>
        </div>

        <!-- small caption / instructions removed as requested -->

        <!-- Love question -->
        <div class="love-q" aria-hidden="false" id="loveQuestion">
          <div class="card" id="loveCard">
            <div class="question">Em c√≥ y√™u anh kh√¥ng?</div>
            <div class="actions">
              <button class="love-btn" id="btnYes">C√≥ üíñ</button>
              <button class="love-btn no" id="btnNo">Kh√¥ng üíî</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Right: info -->
      <aside class="right-panel" aria-label="Controls & Love Slider">
        <div style="font-size:0.95rem; color:rgba(255,255,255,0.9)">Th√¥ng tin & Th·ªëng k√™</div>

        <div style="display:flex; gap:8px; flex-wrap:wrap; justify-content:center; width:100%;">
          <div style="background:var(--glass); padding:8px 10px; border-radius:10px; min-width:84px; text-align:center;">
            <div id="years" style="font-weight:700">0</div><small>NƒÉm</small>
          </div>
          <div style="background:var(--glass); padding:8px 10px; border-radius:10px; min-width:84px; text-align:center;">
            <div id="months" style="font-weight:700">0</div><small>Th√°ng</small>
          </div>
          <div style="background:var(--glass); padding:8px 10px; border-radius:10px; min-width:84px; text-align:center;">
            <div id="days" style="font-weight:700">0</div><small>Ng√†y</small>
          </div>
        </div>

      </aside>
    </div>

    <footer>Dev by Ngocdoian ‚Ä¢ Y√™u Hoa Qu√° R·ªìi üíï </footer>

  <!-- overlays -->
  <div class="big-overlay" id="bigOverlay"></div>

  <!-- heart rain container (separate) -->
  <div id="heartRainLayer" aria-hidden="true" style="position:fixed; inset:0; z-index:9999; pointer-events:none; overflow:hidden;"></div>

  <!-- security overlay when detect devtools attempts -->
  <div id="devWarn" style="position:fixed; inset:0; display:none; z-index:10001; background:linear-gradient(180deg, rgba(20,2,20,0.95), rgba(8,0,8,0.95)); color:#fff; align-items:center; justify-content:center; text-align:center; padding:20px;">
    <div style="max-width:720px; margin:auto;">
      <h2 style="margin:0 0 8px 0; font-size:1.6rem">‚ö†Ô∏è C·∫£nh b√°o b·∫£o m·∫≠t</h2>
      <p style="opacity:.95; margin:0 0 12px 0">Nh√≥c √Åc F12 lm cc j ƒë√©o c√≥ tr√¨nh ƒë·ª´ng F12 hahaha. M√£ ngu·ªìn trang l√† t√†i s·∫£n client ‚Äî c√°ch an to√†n nh·∫•t ƒë·ªÉ b·∫£o m·∫≠t logic l√† ƒë·∫∑t ph·∫ßn nh·∫°y c·∫£m ·ªü server.</p>
      <button id="devClose" style="padding:8px 14px; border-radius:8px; background:linear-gradient(90deg,var(--pink-1),var(--pink-2)); border:none; color:#fff; cursor:pointer">ƒê√≥ng c·∫£nh b√°o</button>
    </div>
  </div>

  <!-- MUSIC -->
  <audio id="bgMusic" loop preload="auto">
    <source src="https://files.catbox.moe/4h5y1q.mp3" type="audio/mpeg">
  </audio>

  <script>
    /********** Settings you can edit quickly **********/
    const START_DATE = new Date("2024-07-14T00:00:00");
    const SLIDE_INTERVAL_MS = 5000;
    const TOTAL_HEARTS = 30;
    const FULL_DAYS_FOR_PROGRESS = 1000;
    /***************************************************/

    /* ===== stars generation (depth) ===== */
    (function makeStars(){
      const layer = document.getElementById('starLayer');
      const count = 60;
      for(let i=0;i<count;i++){
        const s = document.createElement('div');
        s.className = 'star';
        s.style.left = Math.random()*100 + 'vw';
        s.style.top = Math.random()*100 + 'vh';
        s.style.animationDelay = (Math.random()*4) + 's';
        const size = 1 + Math.floor(Math.random()*3);
        s.style.width = size + 'px';
        s.style.height = size + 'px';
        s.style.opacity = 0;
        layer.appendChild(s);
      }
    })();

    /* ===== heart background ===== */
    const heartBg = document.getElementById('heartBg');
    for(let i=0;i<TOTAL_HEARTS;i++){
      const el = document.createElement('div');
      el.className = 'heart';
      const size = 18 + Math.round(Math.random()*68);
      el.style.width = size + 'px';
      el.style.height = size + 'px';
      el.style.left = (Math.random()*110 - 5) + 'vw';
      el.style.top = (70 + Math.random()*30) + 'vh';
      el.style.animationDuration = (6 + Math.random()*12) + 's';
      el.style.animationDelay = -(Math.random()*10) + 's';
      el.style.opacity = (0.3 + Math.random()*0.9);
      el.style.transform = `rotate(${Math.random()*40-20}deg) scale(${0.6 + Math.random()*1.2})`;
      heartBg.appendChild(el);
    }

    /* ===== love counter (full Y/M/W/D/H/M/S) ===== */
    function updateCounter(){
      const now = new Date();
      const diff = now - START_DATE;

      const totalSeconds = Math.floor(diff/1000);
      const seconds = totalSeconds % 60;

      const totalMinutes = Math.floor(totalSeconds/60);
      const minutes = totalMinutes % 60;

      const totalHours = Math.floor(totalMinutes/60);
      const hours = totalHours % 24;

      const totalDays = Math.floor(totalHours/24);
      const weeks = Math.floor(totalDays/7);
      const months = Math.floor(totalDays/30) % 12;
      const years = Math.floor(totalDays/365);

      // top stats
      setStatWithFlash('cYears', years);
      setStatWithFlash('cMonths', months);
      setStatWithFlash('cWeeks', weeks);
      setStatWithFlash('cDays', totalDays);
      setStatWithFlash('cHours', hours.toString().padStart(2,'0'));
      setStatWithFlash('cMinutes', minutes.toString().padStart(2,'0'));
      setStatWithFlash('cSeconds', seconds.toString().padStart(2,'0'));

      // right small boxes
      document.getElementById('years').textContent  = years;
      document.getElementById('months').textContent = months;
      document.getElementById('days').textContent   = totalDays;
      document.getElementById('loveDays').textContent = totalDays + ' ng√†y';

      // progress
      const pct = Math.min((totalDays / FULL_DAYS_FOR_PROGRESS) * 100, 100);
      document.getElementById('loveProgressFill').style.width = pct + '%';
    }
    // small helper to flash stat when changed
    const lastStat = {};
    function setStatWithFlash(id, value){
      const el = document.getElementById(id);
      if(!el) return;
      if(String(lastStat[id]) !== String(value)){
        el.classList.add('flash');
        setTimeout(()=> el.classList.remove('flash'), 340);
      }
      lastStat[id] = value;
      el.textContent = value;
    }
    updateCounter();
    setInterval(updateCounter, 1000);

    /* ===== slideshow (with ken-burns transitions) ===== */
    const slides = Array.from(document.querySelectorAll('.slide'));
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const dotsWrap = document.getElementById('dotsWrap');
    let slideIndex = 0;
    let autoplayTimer = null;

    // build dots
    slides.forEach((s, idx) => {
      const dot = document.createElement('div');
      dot.className = 'dot' + (idx===0? ' active':'');
      dot.addEventListener('click', ()=> goTo(idx));
      dotsWrap.appendChild(dot);
    });
    const dots = Array.from(document.querySelectorAll('.dot'));

    function setActive(index){
      slides.forEach((s,i)=> {
        s.classList.toggle('active', i===index);
        // add slight transform variations:
        if(i===index){
          const img = s.querySelector('img');
          if(img) { img.style.transform = 'scale(1.03)'; }
        } else {
          const img = s.querySelector('img');
          if(img) { img.style.transform = 'scale(1)'; }
        }
      });
      dots.forEach((d,i)=> d.classList.toggle('active', i===index));
    }
    function goTo(idx){
      slideIndex = (idx + slides.length) % slides.length;
      setActive(slideIndex);
    }
    function nextSlide(){
      slideIndex = (slideIndex + 1) % slides.length;
      setActive(slideIndex);
    }
    function prevSlide(){
      slideIndex = (slideIndex - 1 + slides.length) % slides.length;
      setActive(slideIndex);
    }
    prevBtn.addEventListener('click', ()=> { prevSlide(); restartAutoplay(); });
    nextBtn.addEventListener('click', ()=> { nextSlide(); restartAutoplay(); });

    const slideshowFrame = document.getElementById('slideshow');
    slideshowFrame.addEventListener('mouseenter', ()=> { stopAutoplay(true); });
    slideshowFrame.addEventListener('mouseleave', ()=> { startAutoplay(); });
    function startAutoplay(){ stopAutoplay(); autoplayTimer = setInterval(()=> nextSlide(), SLIDE_INTERVAL_MS); }
    function stopAutoplay(){ if(autoplayTimer) clearInterval(autoplayTimer); autoplayTimer = null; }
    function restartAutoplay(){ stopAutoplay(); startAutoplay(); }
    startAutoplay();

    /* ===== music toggle ===== */
    const bgMusic = document.getElementById('bgMusic');
    const musicToggle = document.getElementById('musicToggle');
    const musicIcon = document.getElementById('musicIcon');
    function tryPlayMusic(){
      bgMusic.volume = 0.22;
      const p = bgMusic.play();
      if(p !== undefined){
        p.then(()=> { musicIcon.textContent = 'üîä'; })
         .catch(()=> { musicIcon.textContent = 'üîá'; });
      }
    }
    tryPlayMusic();
    musicToggle.addEventListener('click', ()=> {
      if(bgMusic.paused){ bgMusic.play().catch(()=>{}); musicIcon.textContent='üîä'; }
      else{ bgMusic.pause(); musicIcon.textContent='üîá'; }
    });

    /* ===== LOVE SLIDER + aura + mood + thumb hearts (enhanced) ===== */
    const slider = document.getElementById('loveSlider');
    const mood = document.getElementById('moodIcon');
    const auraContainer = document.getElementById('auraContainer');
    const heartCircle = document.querySelector('.heart-circle');

    function spawnAuraHearts(count, intensity){
      const max = Math.min(12, Math.max(0, Math.floor(count)));
      for(let i=0;i<max;i++){
        const h = document.createElement('div');
        h.className = 'aura-heart';
        h.style.left = (45 + Math.random()*10) + '%';
        h.style.top = (45 + Math.random()*10) + '%';
        const angle = Math.random()*Math.PI*2;
        const radius = 60 + Math.random()*80;
        const dx = Math.round(Math.cos(angle) * radius * (0.7 + intensity*0.002));
        const dy = Math.round(Math.sin(angle) * radius * (0.5 + intensity*0.002)) * -1;
        h.style.setProperty('--dx', dx + 'px');
        h.style.setProperty('--dy', dy + 'px');
        h.style.animationDuration = (600 + Math.random()*900) + 'ms';
        auraContainer.appendChild(h);
        setTimeout(()=> { if(h && h.parentNode) h.parentNode.removeChild(h); }, 1700);
      }
    }

    // thumb heart + continuous trail while dragging
    let dragSpawnInterval = null;
    function spawnThumbHeart(val){
      const rect = slider.getBoundingClientRect();
      const min = Number(slider.min);
      const max = Number(slider.max);
      const ratio = (val - min) / (max - min);
      const x = rect.left + ratio * rect.width;
      const y = rect.top + rect.height/2;

      const b = document.createElement('div');
      b.className = 'burst';
      b.textContent = val > 85 ? 'üíò' : 'üíñ';
      b.style.left = (x - 8) + 'px';
      b.style.top = (y - 10) + 'px';
      b.style.fontSize = (12 + Math.round(Math.random()*10)) + 'px';
      document.body.appendChild(b);
      setTimeout(()=> { if(b && b.parentNode) b.parentNode.removeChild(b); }, 1100);

      // thumb pulse
      const pulse = document.createElement('div');
      pulse.className = 'thumb-pulse';
      pulse.style.left = (x - 6) + 'px';
      pulse.style.top = (y - 6) + 'px';
      document.body.appendChild(pulse);
      setTimeout(()=> { if(pulse && pulse.parentNode) pulse.parentNode.removeChild(pulse); }, 700);
    }

    function updateMood(val){
      val = Number(val);
      let emoji = 'üòê';
      if(val <= 5) emoji = 'üíÄ';
      else if(val <= 15) emoji = 'üíî';
      else if(val <= 30) emoji = 'üò¢';
      else if(val <= 45) emoji = 'üòï';
      else if(val <= 55) emoji = 'üòê';
      else if(val <= 70) emoji = 'üôÇ';
      else if(val <= 85) emoji = 'üòä';
      else emoji = 'üòç';
      mood.textContent = emoji;

      // animated beat depending on value
      const beat = 1 + (val / 220);
      mood.style.transform = `scale(${beat})`;

      const blur1 = 10 + Math.round(val/2);
      const blur2 = 20 + Math.round(val/1.6);
      heartCircle.style.boxShadow = `inset 0 0 ${10 + val/6}px rgba(255,105,180,0.06), 0 8px ${blur1}px rgba(255,0,127,0.45), 0 0 ${blur2*1.6}px rgba(255,0,255,0.12)`;

      const spawnCount = Math.floor(val / 16);
      if (spawnCount > 0) spawnAuraHearts(spawnCount, val);

      const totalDays = Math.floor((Date.now() - START_DATE) / (1000*60*60*24));
      const pct = Math.min((totalDays / FULL_DAYS_FOR_PROGRESS) * 100, 100);
      const mixed = Math.min(100, Math.round((pct*0.6) + (val*0.4)));
      document.getElementById('loveProgressFill').style.width = mixed + '%';
    }

    slider.addEventListener('input', (e)=> {
      updateMood(e.target.value);
      spawnThumbHeart(e.target.value);
    });

    // spawn continuous hearts when dragging
    slider.addEventListener('pointerdown', () => {
      if(dragSpawnInterval) clearInterval(dragSpawnInterval);
      dragSpawnInterval = setInterval(() => spawnThumbHeart(slider.value), 220);
    });
    window.addEventListener('pointerup', () => {
      if(dragSpawnInterval){ clearInterval(dragSpawnInterval); dragSpawnInterval = null; }
    });

    updateMood(slider.value);

    /* ===== accessibility: keyboard ===== */
    window.addEventListener('keydown', (e)=>{
      if(e.key === 'ArrowRight') { nextSlide(); restartAutoplay(); }
      if(e.key === 'ArrowLeft') { prevSlide(); restartAutoplay(); }
      if(e.key === 'ArrowUp'){
        slider.value = Math.min(100, Number(slider.value) + 5); updateMood(slider.value); spawnThumbHeart(slider.value);
      }
      if(e.key === 'ArrowDown'){
        slider.value = Math.max(0, Number(slider.value) - 5); updateMood(slider.value); spawnThumbHeart(slider.value);
      }
    });

    /* ===== prevent drag/context menu on images & general contextmenu ===== */
    document.querySelectorAll('.slide img').forEach(img=>{
      img.ondragstart = ()=> false;
      img.addEventListener('contextmenu', e=> e.preventDefault());
    });
    // prevent right-click on whole page (soft)
    window.addEventListener('contextmenu', (e) => {
      // allow if ctrl is pressed (developer intentionally)
      if(e.ctrlKey) return;
      e.preventDefault();
    });

    /* ===== responsive slide height ===== */
    function adjustSlideHeight(){
      const frame = document.querySelector('.slideshow-frame');
      if(window.innerWidth < 600){
        frame.style.height = '320px';
      } else if(window.innerWidth < 900){
        frame.style.height = '380px';
      } else {
        frame.style.height = '460px';
      }
    }
    adjustSlideHeight();
    window.addEventListener('resize', adjustSlideHeight);

    /* ===== initial setActive ===== */
    setTimeout(()=> setActive(slideIndex), 50);

    /* ===== LOVE QUESTION behavior (run away "Kh√¥ng", big confetti/hearts on "C√≥") ===== */
    const btnYes = document.getElementById('btnYes');
    const btnNo = document.getElementById('btnNo');
    const loveCard = document.getElementById('loveCard');
    const bigOverlay = document.getElementById('bigOverlay');
    const heartRainLayer = document.getElementById('heartRainLayer');

    function spawnBurstAt(x, y, count=14, emoji='üíñ'){
      for(let i=0;i<count;i++){
        const b = document.createElement('div');
        b.className = 'burst';
        b.textContent = emoji;
        const rx = (Math.random()-0.5)*220;
        const ry = (Math.random()-0.2)*120;
        b.style.left = (x + rx) + 'px';
        b.style.top = (y + ry) + 'px';
        b.style.fontSize = (12 + Math.round(Math.random()*22)) + 'px';
        document.body.appendChild(b);
        setTimeout(()=> { if(b && b.parentNode) b.parentNode.removeChild(b); }, 1600 + Math.random()*500);
      }
    }

    // full-screen heart rain / confetti for "C√≥"
    function showHeartRain(durationMs = 4000, density = 70) {
      // duration: how long to keep spawning / showing hearts
      // density: approx number of hearts to spawn in total
      const start = performance.now();
      const types = ['üíñ','üíò','üíï','üíû','üíù','üíó','üíì','üíú','üíü'];
      const created = [];
      let running = true;

      // spawn many hearts over the first ~ durationMs (so effect looks continuous)
      const spawnInterval = 30; // ms between mini-spawns
      const endTime = start + durationMs;

      function spawnBatch() {
        if(!running) return;
        const now = performance.now();
        const remaining = Math.max(0, endTime - now);
        // adjust spawn rate as time passes
        const remainingRatio = remaining / durationMs;
        // spawn count per batch:
        const perBatch = Math.max(1, Math.round((density/ (durationMs / spawnInterval)) * (1 + (1-remainingRatio)*1.6)));
        for(let i=0;i<perBatch;i++){
          const el = document.createElement('div');
          el.className = 'heart-rain-item';
          el.textContent = types[Math.floor(Math.random()*types.length)];
          const size = 12 + Math.floor(Math.random()*48); // px
          el.style.fontSize = size + 'px';
          // random x across viewport, start slightly above
          const vw = Math.max(window.innerWidth, 320);
          const left = Math.random() * vw;
          el.style.left = (left) + 'px';
          el.style.top = (-20 - Math.random()*40) + 'px';
          // random horizontal drift
          const drift = (Math.random()-0.5) * 200; // px over animation
          // random duration for fall: shorter near end, vary
          const fallDuration = 1800 + Math.random()*1800; // ms
          // create an animation using requestAnimationFrame to be smooth and cross-browser safe
          const startTime = performance.now();
          const startTop = -40 - Math.random()*60;
          const endTop = window.innerHeight + 60 + Math.random()*120;
          el._anim = {
            startTime, fallDuration, startTop, endTop, left, drift
          };
          // random rotation
          el.style.transform = `translate3d(0,0,0) rotate(${Math.random()*360}deg)`;
          heartRainLayer.appendChild(el);
          created.push(el);
        }

        if (performance.now() < endTime) {
          setTimeout(spawnBatch, spawnInterval);
        } else {
          // stop spawning, but let existing fall out and then remove
          setTimeout(()=> {
            // schedule cleanup
            created.forEach(el => { if(el && el.parentNode) el.parentNode.removeChild(el); });
          }, 2200);
        }
      }

      // animation loop for created elements: move them down using RAF for smoother motion
      let rafId = null;
      function animate() {
        const now = performance.now();
        for(let i=0;i<heartRainLayer.children.length;i++){
          const el = heartRainLayer.children[i];
          const a = el._anim;
          if(!a) continue;
          const t = Math.min(1, (now - a.startTime) / a.fallDuration);
          const easeT = t<0.5? (2*t*t) : (-1 + (4-2*t)*t); // rough ease
          const y = a.startTop + (a.endTop - a.startTop) * easeT;
          const x = a.left + a.drift * easeT;
          const rot = (t*720) * ( (a.left%2===0) ? 1 : -1 );
          el.style.transform = `translate3d(${x - a.left}px, ${y}px, 0) rotate(${rot}deg)`;
          el.style.opacity = String(1 - Math.min(1, t*1.1));
          // remove if off-screen
          if(t >= 1) {
            if(el.parentNode) el.parentNode.removeChild(el);
            // adjust index after removal
            i--;
          }
        }
        rafId = requestAnimationFrame(animate);
      }

      spawnBatch();
      rafId = requestAnimationFrame(animate);
      // final stop after duration + cleanup
      setTimeout(()=> {
        running = false;
        if(rafId) cancelAnimationFrame(rafId);
        // remove any remaining
        [...heartRainLayer.children].forEach(c => { if(c && c.parentNode) c.parentNode.removeChild(c); });
      }, durationMs + 2400);
    }

    // helper to compute center coordinates of slideshow for bursts
    const slideshowRect = () => document.getElementById('slideshow').getBoundingClientRect();

    btnYes.addEventListener('pointerdown', (ev) => {
      // prevent double-firing across pointer + click
      ev.preventDefault();
    });

    btnYes.addEventListener('click', (ev) => {
      // spawn some bursts around slideshow center
      const r = slideshowRect();
      const cx = r.left + r.width/2;
      const cy = r.top + r.height/2;
      spawnBurstAt(cx, cy, 14, 'üíñ');
      spawnAuraHearts(8, 120);
      // show heart rain: 4s, dense
      showHeartRain(4000, 110);
      // nudge the card
      loveCard.style.transform = 'rotateX(8deg) rotateY(-6deg) scale(1.04)';
      setTimeout(()=> loveCard.style.transform = '', 640);
      // gentle music swell
      try { bgMusic.volume = Math.min(1, bgMusic.volume + 0.12); } catch(e){}
    });

    // make "No" button run away when hovered, and show big broken heart on click
    function moveNoButtonRandomly() {
      // place the button at a random position within the .actions container bounds
      const actionsWrap = btnNo.parentElement;
      const wrapRect = actionsWrap.getBoundingClientRect();
      const btnRect = btnNo.getBoundingClientRect();
      // compute available space inside card, smaller range to avoid overflow
      const maxX = Math.max(6, wrapRect.width - btnRect.width - 12);
      const maxY = Math.max(0, wrapRect.height - btnRect.height - 6);
      const newX = Math.random() * maxX;
      const newY = Math.random() * maxY;
      // transform relative to original
      btnNo.style.transition = 'transform 360ms cubic-bezier(.2,.8,.2,1)';
      btnNo.style.transform = `translate(${newX - (btnRect.left - wrapRect.left)}px, ${newY - (btnRect.top - wrapRect.top)}px)`;
      // clear transform after some time to keep behavior varied
      setTimeout(()=> {
        // only clear if not currently being clicked
        try { btnNo.style.transform = ''; } catch(e){}
      }, 1200);
    }

    // Run-away on hover for pointer devices
    btnNo.addEventListener('pointerenter', (e) => {
      moveNoButtonRandomly();
    });

    // Also move a bit on focus for keyboard users
    btnNo.addEventListener('focus', () => { moveNoButtonRandomly(); });

    btnNo.addEventListener('click', (e) => {
      e.preventDefault();
      btnNo.classList.add('shake');
      setTimeout(()=> btnNo.classList.remove('shake'), 480);

      // show broken heart in center (slideshow center)
      const r = slideshowRect();
      const cx = r.left + r.width/2;
      const cy = r.top + r.height/2;
      const br = document.createElement('div');
      br.className = 'broken';
      br.textContent = 'üíî';
      br.style.left = (cx - 36) + 'px';
      br.style.top = (cy - 36) + 'px';
      br.style.fontSize = '64px';
      br.style.zIndex = 10002;
      document.body.appendChild(br);
      setTimeout(()=> { if(br && br.parentNode) br.parentNode.removeChild(br); }, 1200);

      // vibrate device if available
      try { if(navigator.vibrate) navigator.vibrate([50,30,50]); } catch(err){}

      // screen shake
      document.body.classList.add('screen-shake');
      setTimeout(()=> document.body.classList.remove('screen-shake'), 520);

      // move button away (so clicking again feels like it runs)
      moveNoButtonRandomly();

      // slight music dip
      try { bgMusic.volume = Math.max(0.06, bgMusic.volume - 0.14); } catch(e){}
    });

    /* ===== Typewriter footer quotes (cycle) ===== */
    const quotes = [
      "M·ªói gi√¢y tr√¥i qua, anh l·∫°i y√™u em nhi·ªÅu h∆°n üíñ",
      "Y√™u l√† c√πng nhau ng√≥ trƒÉng v√† kh√¥ng c·∫ßn n√≥i nhi·ªÅu.",
      "K·ª∑ ni·ªám nh·ªè ‚Äî t√¨nh l·ªõn.",
      "C·∫£m ∆°n em v√¨ ƒë√£ l√† em c·ªßa anh.",
      "Tim n√†y thu·ªôc v·ªÅ em, kh√¥ng ƒë·ªïi."
    ];
    const typeEl = document.getElementById('typeWriter');
    let qIndex = 0;
    function typeQuote(){
      const txt = quotes[qIndex];
      typeEl.innerHTML = '';
      let i = 0;
      const tspan = document.createElement('span');
      typeEl.appendChild(tspan);
      const cursor = document.createElement('span');
      cursor.className = 'cursor';
      typeEl.appendChild(cursor);
      const interval = setInterval(()=>{
        tspan.textContent += txt[i++] || '';
        if(i > txt.length){
          clearInterval(interval);
          setTimeout(()=> {
            // erase
            const del = setInterval(()=>{
              tspan.textContent = tspan.textContent.slice(0, -1);
              if(tspan.textContent.length === 0) {
                clearInterval(del);
                qIndex = (qIndex+1) % quotes.length;
                setTimeout(typeQuote, 600);
              }
            }, 36);
          }, 2400);
        }
      }, 48);
    }
    // start typewriter
    typeQuote();

    /* ===== Simple deterrents: block F12 / Ctrl+Shift+I / Ctrl+U / Ctrl+S, show overlay ===== */
    const devWarn = document.getElementById('devWarn');
    const devClose = document.getElementById('devClose');
    let devWarnShown = false;
    function showDevWarn(){
      if(devWarnShown) return;
      devWarnShown = true;
      devWarn.style.display = 'flex';
    }
    devClose.addEventListener('click', ()=>{
      devWarnShown = false;
      devWarn.style.display = 'none';
    });

    window.addEventListener('keydown', (e)=> {
      // common devtool shortcuts
      if (e.key === 'F12') { e.preventDefault(); showDevWarn(); return; }
      if (e.ctrlKey && e.shiftKey && (e.key.toLowerCase() === 'i' || e.key.toLowerCase() === 'j')) { e.preventDefault(); showDevWarn(); return; }
      if (e.ctrlKey && e.key.toLowerCase() === 'u') { e.preventDefault(); showDevWarn(); return; }
      if (e.ctrlKey && e.key.toLowerCase() === 's') { /* prevent save page */ e.preventDefault(); showDevWarn(); return; }
    }, {capture:true});

    // detect devtools open via resize heuristics (not perfect) and debugger trap
    (function detectDevtools(){
      let threshold = 160;
      let lastHeight = window.outerHeight - window.innerHeight;
      setInterval(()=>{
        const diff = Math.abs((window.outerHeight - window.innerHeight) - lastHeight);
        if(diff > threshold){
          showDevWarn();
        }
        lastHeight = window.outerHeight - window.innerHeight;
      }, 1200);

      // also try a detection trick
      let open = false;
      const element = new Image();
      Object.defineProperty(element, 'id', {
        get: function () {
          open = true;
          showDevWarn();
        }
      });
      setInterval(function() {
        open = false;
        console.log(element);
        console.clear();
      }, 1500);
    })();

    /* ===== Accessibility: show message if user right-clicks strongly (we already prevented default) ===== */
    window.addEventListener('contextmenu', (e) => {
      // earlier prevention already ran; show small overlay if user persists
      // but only show if ctrl not pressed
      if(!e.ctrlKey) {
        showDevWarn();
      }
    });

    /* ===== Extra small: gentle performance guard (remove many particles if many present) ===== */
    setInterval(()=> {
      const many = document.querySelectorAll('.burst, .falling, .aura-heart, .heart-rain-item');
      if(many.length > 300){
        many.forEach((el, idx) => { if(idx % 2 === 0 && el.parentNode) el.parentNode.removeChild(el); });
      }
    }, 2500);

    /* ===== initial note: everything else preserved (no removal of features) ===== */

  </script>
</body>
</html>
